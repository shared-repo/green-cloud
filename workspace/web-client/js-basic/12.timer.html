<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Timer (setInterval, setTimeout)</title>
</head>
<body>
    <button id="start">start</button>
    <button id="stop">stop</button>
    <hr>
    <div id="message"></div>

    <script type="text/javascript">
        window.addEventListener('load', function(event) {
            let currentNo = 1;
            const message = document.querySelector('#message');
            // message.innerHTML = `<h2>${currentNo}</h2>`;

            let timerId = null;

            function increaseNo() {
                currentNo++;
                // message.innerHTML = `<h2>${currentNo}</h2>`;
                // message.innerHTML = new Date();
                const d = new Date();
                message.innerHTML = 
                    `<h2>${d.getFullYear()}년 ${d.getMonth() + 1}월 ${d.getDate()}일 ${d.getHours()}시 ${d.getMinutes()}분 ${d.getSeconds()}초</h2>`;

                timerId = window.setTimeout(increaseNo, 1000); // 지정된 시간이 경과한 후 지정된 함수를 1회 실행
            }

            const buttons = document.querySelectorAll("button");
            for (let i = 0; i < buttons.length; i++) {
                buttons[i].addEventListener('click', function(event) {
                    if (event.target.id == 'start') {
                        timerId = window.setTimeout(increaseNo, 1000); // 1/1000초 단위
                    } else if (event.target.id == 'stop') {
                        window.clearTimeout(timerId); // 예약 작업 취소
                    }
                })
            }
        });
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>HTML DOM</title>
    <style>
    </style>
</head>
<body>

    <script type="text/javascript">
        window.addEventListener('load', function() {
            const table = document.createElement("table");
            table.border = 1;
            table.style.margin = "0 auto";

            const colorTr = document.createElement("tr");
            // colorTr.id = 'color-row';

            const colors = ['red', 'orange', 'yellow', 'green', 'blue', 'navy', 'purple'];
            function changeColor(event) { // event-handler의 전달인자는 발생된 event와 관련된 정보 저장
                const td = event.target; // event.target : 현재 이벤트를 발생시킨 객체
                canvasTd.style.backgroundColor = td.style.backgroundColor;
            }
            for (let idx = 0; idx < colors.length; idx++) {
                const td = document.createElement('td');
                td.style.width = "100px";
                td.style.height = "100px";
                td.style.backgroundColor = colors[idx];
                td.addEventListener('click', changeColor);

                colorTr.appendChild(td); // 한 번에 한 개만 추가 가능
                // colorTr.append(td); // 여러 개를 한 번에 추가 가능
            }

            const canvasTr = document.createElement("tr");
            // canvasTr.id = "canvas-row";
            
            const canvasTd = document.createElement("td");
            canvasTd.style.height = "400px";
            // canvasTd.colSpan = 7; // tag의 모든 속성을 dot(.) 연산자로 접근할 수 없습니다.
            canvasTd.setAttribute("colspan", 7); // setAttribute는 모든 속성에 적용 가능

            canvasTr.appendChild(canvasTd);

            table.append(colorTr, canvasTr);

            const body = document.querySelector("body");
            body.appendChild(table);
        });
    </script>

</body>
</html>